import { describe, expect, test } from "vitest";

import { RespaldarAtestadoPostgresRepository } from "@infra/db/postgresdb/respaldar-atestado/respaldar-atestado";
import { RecalcularTurnoController } from "./recalcular-turno";
import { RecalcularTurnoPostgresRepository } from "@infra/db/postgresdb/recalcular-turno/recalcular-turno";

const recalcularTurnoController = new RecalcularTurnoController(new RecalcularTurnoPostgresRepository());

const horarios = [
  "SEGaSEX-07:12/12:30_13:30/17:00",
  "SEGaSEX-14:00/19:00_20:00/21:20 SAB-11:12/16:00_17:00/19:32",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/13:00_14:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaSEX-07:12/11:00_12:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:20_13:20/17:00",
  "SEGaSEX-07:12/13:00_14:00/17:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/12:30_13:30/16:12 SAB-07:12/11:12",
  "SEGaSAB-03:00/09:00_10:00/11:02",
  "SEGaSEX-07:12/11:30_12:30/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:20_13:20/16:12 SAB-07:12/11:12",
  "SEGaSEX-14:45/19:00_20:00/23:31 SAB-11:00/15:00",
  "SEGaSEX-07:12/10:40_11:40/17:00",
  "SEGaSEX-13:00/18:00_19:00/21:20 SAB-11:12/15:00_16:00/19:32",
  "SEGaSEX-07:12/12:40_13:40/17:00",
  "SEGaSEX-14:50/18:00_19:00/23:25 SAB-14:00/19:04",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaSAB-09:00/13:00_14:40/18:00",
  "SEGaDOM-22:00/01:30_03:00/06:00",
  "SEGaSEX-06:00/10:48_12:00/15:00 SAB-06:00/11:00",
  "SEGaSEX-06:00/10:48_12:00/15:00 SAB-06:00/11:00",
  "SEGaSEX-07:12/11:20_12:20/16:12 SAB-07:12/11:12",
  "SEGaSEX-10:00/14:00_15:00/19:00 SAB-09:00/13:00",
  "SEGaSEX-12:12/16:00_17:00/22:00",
  "SEGaSEX-07:12/10:30_11:30/17:00",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:20_12:20/17:00",
  "SEGaSEX-07:12/11:00_12:00/16:02 SAB-07:12/12:02",
  "SEGaSEX-07:12/10:48_11:48/16:12 SAB-07:12/11:12",
  "SEGaSEXeDOM-23:11/00:15_01:30/07:07",
  "SEGaSAB-05:00/10:48_11:48/13:20",
  "SEGaSEX-07:12/12:30_13:30/17:00",
  "SEGaSEX-07:45/12:45_14:25/18:13",
  "SEGaSEX-06:20/12:20_13:24/16:12",
  "SEGaSEX-14:50/18:00_19:00/23:25 DOM-18:30/23:23",
  "DOMaSEX-18:00/23:30_00:30/01:54",
  "SEGaSEX-07:12/12:30_13:30/16:02 SAB-07:12/12:02",
  "SEGaSEX-06:00/11:48_13:00/15:00 SAB-06:00/11:00",
  "SEGaSEX-07:12/12:00_13:48/17:00 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:40_12:40/17:00",
  "SEGaSEX-13:00/18:00_19:00/21:20 SAB-11:12/16:00_17:00/19:32",
  "SEGaSEX-08:00/12:00_13:30/18:18",
  "SEGaSEX-07:42/11:40_13:10/18:00",
  "SEGaSEX-10:00/13:00_14:00/19:00 SAB-09:00/13:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-22:00/02:00_03:03/07:00",
  "SEGaSEX-05:00/10:00_11:00/14:00 SAB-07:15/11:15",
  "SEGaSEX-07:12/11:48_12:48/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:48_12:48/17:00",
  "SEGaSEX-13:00/19:00_20:00/21:20 SAB-11:12/16:00_17:00/19:32",
  "SEGaSEX-08:12/12:30_13:30/18:00",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaDOM-05:50/11:00_12:00/14:10",
  "SEGaSEX-22:00/00:15_01:30/05:56 DOM-22:53/00:15_01:30/05:56",
  "SEGaSAB-22:00/02:00_03:00/05:00",
  "SEGaSAB-23:55/03:00_04:17/07:12",
  "SEGaSEX-13:00/19:00",
  "SEGaSEX-08:12/11:30_12:30/18:00",
  "SEGaSEX-07:12/12:40_13:40/16:12 SAB-07:12/11:12",
  "SEGaSEX-05:00/10:30_11:30/14:00 SAB-05:00/09:00",
  "SEGaSEX-07:12/11:00_12:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-13:48/19:00_20:00/22:07 DOM-15:00/19:00_20:00/23:05",
  "SEGaDOM-13:52/19:00_20:00/22:10",
  "SEGaSEX-07:12/12:30_13:30/17:00",
  "SEGaSEX-07:12/11:40_12:40/16:12 SAB-07:12/11:12",
  "SEGaSEX-13:00/18:00_19:00/22:00 SAB-11:12/15:12",
  "SEGaSEX-07:30/13:30 SAB-07:12/11:12",
  "SEGaSAB-07:00/12:45_13:45/15:20",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-09:00/13:00",
  "SEGaSEX-14:00/19:50_21:00/23:00 SAB-11:00/15:05",
  "SEGaSEX-07:12/11:30_12:30/16:02 SAB-07:12/12:02",
  "SEGaDOM-05:50/10:50_11:50/14:10",
  "SEGaSEX-07:12/12:30_13:30/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-12:00/16:00",
  "SEGaSEX-14:45/19:00_20:00/23:31 SAB-11:00/15:00",
  "SEGaSEX-07:12/11:00_12:00/16:00 SAB-12:00/17:00",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-09:00/13:00",
  "DOMaSEX-16:00/19:00_20:00/00:02",
  "SEGaSEX-08:12/13:00_14:00/18:00",
  "SEGaSEX-07:12/10:20_11:20/16:12 SAB-07:12/11:12",
  "SEGaSEX-03:30/09:30_10:30/12:10 SAB-03:30/07:52",
  "SEGaSEX-12:12/16:00_17:00/22:00",
  "SEGaSEX-13:00/16:00_17:00/22:00 SAB-11:12/15:12",
  "SEGaSAB-05:50/10:48_11:48/14:10",
  "SEGaSEX-09:00/12:00_13:00/18:00 SAB-09:00/13:00",
  "SEGaSEX-06:00/10:40_12:04/16:12",
  "SEGaSEX-06:00/10:00_11:00/15:00 SAB-07:12/11:12",
  "SEGaDOM-05:50/10:00_11:00/14:10",
  "SEGaSEX-07:30/13:30",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/10:48_11:48/17:00",
  "SEG-13:30/16:30 TERaSEX-13:50/16:50",
  "SEGaSEX-13:00/19:00_20:00/22:00 SAB-11:00/15:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-08:00/11:00_12:30/18:18",
  "SEGaDOM-13:52/18:00_19:00/22:10",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-07:12/11:12",
  "SEGaQUI-16:00/19:00_20:00/00:38 SEX-14:48/19:00_20:00/23:31 SAB-11:00/15:00",
  "SEGaSEX-07:12/11:00_12:00/16:12 SAB-11:00/15:00",
  "SEGaSEX-22:00/00:15_01:30/05:56 SAB-22:04/00:15_01:30/05:00",
  "SEGaSEX-13:00/18:00_19:00/22:00 SAB-09:00/13:00",
  "SEGaDOM-13:52/17:00_18:00/22:10",
  "SEGaSEX-07:12/11:00_12:00/16:12 SAB-07:12/11:12",
  "SEGaDOM-22:00/00:00_01:30/06:00",
  "SEGaSEX-07:12/12:00_13:00/16:02 SAB-07:12/12:02",
  "SEGaSEXeDOM-15:00/19:00_20:24/23:31",
  "SEGaSEX-09:00/12:00_13:12/19:00",
  "SEGaDOM-05:50/09:50_10:50/14:10",
  "SEGaSAB-23:00/02:00_03:00/06:00",
  "SEGaSEX-07:12/11:30_12:30/17:00",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "DOMaSEX-23:11/00:15_01:30/07:07",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-14:00/18:00",
  "SEGaSEX-09:00/12:00_13:00/18:00 SAB-14:00/18:00",
  "SEGaSEX-07:12/13:00_14:00/16:12 SAB-07:12/11:12",
  "SEGaSAB-23:00/03:00_04:00/06:00",
  "SEGaSEX-07:12/13:00_14:00/16:12 SAB-11:12/15:12",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/10:40_11:40/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-11:00/15:00",
  "SEGaSEX-07:12/10:00_11:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-07:12/11:12",
  "SEGaSEX-09:00/12:00_13:00/18:00 SAB-09:00/13:00",
  "SEGaSEX-13:00/18:50_19:50/22:00 SAB-09:00/13:00",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaSEX-13:00/19:00_20:00/22:00 SAB-09:00/13:00",
  "SEGaQUI-13:00/18:50_19:50/22:00 SEX-10:00/13:00_14:00/19:00 SAB-07:12/11:12",
  "SEGaSEX-14:01/18:00_19:00/23:35",
  "SEGaSEX-13:00/17:50_18:50/22:00 SAB-09:00/13:00",
  "SEGeQUAeSEX-07:12/09:30_09:45/13:27 TEReQUI-08:00/11:30",
  "SEGaSEX-07:12/10:20_11:20/17:00",
  "SEGaSEX-10:00/14:00_15:00/19:00 SAB-11:00/15:00",
  "SEGaSEX-07:12/13:00_14:00/17:00",
  "SEGaSEX-09:00/14:00_15:00/18:00 SAB-09:00/13:00",
  "SEGaSEX-07:12/12:30_13:30/17:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/13:00_14:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaSEX-07:12/11:00_12:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:20_13:20/17:00",
  "SEGaSEX-07:12/13:00_14:00/17:00",
  "SEGaSEX-07:12/12:30_13:30/16:12 SAB-07:12/11:12",
  "SEGaSAB-03:00/09:00_10:00/11:02",
  "SEGaSEX-07:12/11:30_12:30/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:20_13:20/16:12 SAB-07:12/11:12",
  "SEGaSEX-14:45/19:00_20:00/23:31 SAB-11:00/15:00",
  "SEGaSEX-07:12/10:40_11:40/17:00",
  "SEGaSEX-13:00/18:00_19:00/21:20 SAB-11:12/15:00_16:00/19:32",
  "SEGaSEX-07:12/12:40_13:40/17:00",
  "SEGaSEX-14:50/18:00_19:00/23:25 SAB-14:00/19:04",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaSAB-09:00/13:00_14:40/18:00",
  "SEGaDOM-22:00/01:30_03:00/06:00",
  "SEGaSEX-06:00/10:48_12:00/15:00 SAB-06:00/11:00",
  "SEGaSEX-06:00/10:48_12:00/15:00 SAB-06:00/11:00",
  "SEGaSEX-07:12/11:20_12:20/16:12 SAB-07:12/11:12",
  "SEGaSEX-10:00/13:00_14:00/19:00 SAB-09:00/13:00",
  "SEGaSEX-12:12/16:00_17:00/22:00",
  "SEGaSEX-10:00/14:00_15:00/19:00 SAB-09:00/13:00",
  "SEGaSEX-07:12/10:30_11:30/17:00",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:20_12:20/17:00",
  "SEGaSEX-07:12/11:00_12:00/16:02 SAB-07:12/12:02",
  "SEGaSEX-07:12/10:48_11:48/16:12 SAB-07:12/11:12",
  "SEGaSEXeDOM-23:11/00:15_01:30/07:07",
  "SEGaSAB-05:00/10:48_11:48/13:20",
  "SEGaSEX-07:12/12:30_13:30/17:00",
  "SEGaSEX-07:45/12:45_14:25/18:13",
  "SEGaSEX-06:20/12:20_13:24/16:12",
  "SEGaSEX-14:50/18:00_19:00/23:25 DOM-18:30/23:23",
  "DOMaSEX-18:00/23:30_00:30/01:54",
  "SEGaSEX-07:12/12:30_13:30/16:02 SAB-07:12/12:02",
  "SEGaSEX-06:00/11:48_13:00/15:00 SAB-06:00/11:00",
  "SEGaSEX-07:12/12:00_13:48/17:00 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:40_12:40/17:00",
  "SEGaSEX-13:00/18:00_19:00/21:20 SAB-11:12/16:00_17:00/19:32",
  "SEGaSEX-08:00/12:00_13:30/18:18",
  "SEGaSEX-07:42/11:40_13:10/18:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-22:00/02:00_03:03/07:00",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaSEX-07:12/11:48_12:48/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:48_12:48/17:00",
  "SEGaSEX-13:00/19:00_20:00/21:20 SAB-11:12/16:00_17:00/19:32",
  "SEGaSEX-08:12/12:30_13:30/18:00",
  "SEGaDOM-05:50/11:00_12:00/14:10",
  "SEGaSEX-22:00/00:15_01:30/05:56 DOM-22:53/00:15_01:30/05:56",
  "SEGaSAB-22:00/02:00_03:00/05:00",
  "SEGaSAB-23:55/03:00_04:17/07:12",
  "SEGaSEX-13:00/19:00",
  "SEGaSEX-08:12/11:30_12:30/18:00",
  "SEGaSEX-07:12/12:40_13:40/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/11:00_12:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-13:48/19:00_20:00/22:07 DOM-15:00/19:00_20:00/23:05",
  "SEGaDOM-13:52/19:00_20:00/22:10",
  "SEGaSEX-07:12/12:30_13:30/17:00",
  "SEGaSEX-07:12/11:40_12:40/16:12 SAB-07:12/11:12",
  "SEGaSEX-13:00/18:00_19:00/22:00 SAB-11:12/15:12",
  "SEGaSEX-07:30/13:30 SAB-07:12/11:12",
  "SEGaSAB-07:00/12:45_13:45/15:20",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-09:00/13:00",
  "SEGaSEX-14:00/19:50_21:00/23:00 SAB-11:00/15:05",
  "SEGaSEX-07:12/11:30_12:30/16:02 SAB-07:12/12:02",
  "SEGaDOM-05:50/10:50_11:50/14:10",
  "SEGaSEX-07:12/12:30_13:30/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-12:00/16:00",
  "SEGaSEX-14:45/19:00_20:00/23:31 SAB-11:00/15:00",
  "SEGaSEX-07:12/11:00_12:00/16:00 SAB-12:00/17:00",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-09:00/13:00",
  "DOMaSEX-16:00/19:00_20:00/00:02",
  "SEGaSEX-07:12/10:48_11:48/17:00",
  "SEGaSEX-08:12/13:00_14:00/18:00",
  "SEGaSEX-07:12/10:20_11:20/16:12 SAB-07:12/11:12",
  "SEGaSEX-03:30/09:30_10:30/12:10 SAB-03:30/07:52",
  "SEGaSEX-12:12/16:00_17:00/22:00",
  "SEGaSEX-13:00/16:00_17:00/22:00 SAB-11:12/15:12",
  "SEGaSAB-05:50/10:48_11:48/14:10",
  "SEGaSEX-09:00/12:00_13:00/18:00 SAB-09:00/13:00",
  "SEGaSEX-06:00/10:40_12:04/16:12",
  "SEGaSEX-06:00/10:00_11:00/15:00 SAB-07:12/11:12",
  "SEGaDOM-05:50/10:00_11:00/14:10",
  "SEGaSEX-07:30/13:30",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEG-13:30/16:30 TERaSEX-13:50/16:50",
  "SEGaSEX-05:00/10:00_11:00/14:00 SAB-07:15/11:15",
  "SEGaSEX-13:00/19:00_20:00/22:00 SAB-11:00/15:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-08:00/11:00_12:30/18:18",
  "SEGaDOM-13:52/18:00_19:00/22:10",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-07:12/11:12",
  "SEGaQUI-16:00/19:00_20:00/00:38 SEX-14:48/19:00_20:00/23:31 SAB-11:00/15:00",
  "SEGaSEX-07:12/12:00_13:00/16:02 SAB-07:12/12:02",
  "SEGaSEX-22:00/00:15_01:30/05:56 SAB-22:04/00:15_01:30/05:00",
  "SEGaSEX-13:00/18:00_19:00/22:00 SAB-09:00/13:00",
  "SEGaDOM-13:52/17:00_18:00/22:10",
  "SEGaSEX-07:12/11:00_12:00/16:12 SAB-07:12/11:12",
  "SEGaDOM-22:00/00:00_01:30/06:00",
  "SEGaSEX-07:12/11:00_12:00/16:12 SAB-11:00/15:00",
  "SEGaSEXeDOM-15:00/19:00_20:24/23:31",
  "SEGaSEX-09:00/12:00_13:12/19:00",
  "SEGaDOM-05:50/09:50_10:50/14:10",
  "SEGaSAB-23:00/02:00_03:00/06:00",
  "SEGaSEX-07:12/11:30_12:30/17:00",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-14:00/18:00",
  "SEGaSEX-14:01/18:00_19:00/23:35",
  "SEGaSEX-07:12/13:00_14:00/16:12 SAB-07:12/11:12",
  "SEGaSAB-23:00/03:00_04:00/06:00",
  "SEGaSEX-07:12/13:00_14:00/16:12 SAB-11:12/15:12",
  "SEGaSEX-07:12/12:00_13:00/17:00",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-11:00/15:00",
  "SEGaSEX-07:12/10:00_11:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-07:12/11:12",
  "SEGaSEX-13:00/18:50_19:50/22:00 SAB-09:00/13:00",
  "SEGaSEX-07:12/12:00_13:00/16:12 SAB-07:12/11:12",
  "SEGaSEX-13:00/19:00_20:00/22:00 SAB-09:00/13:00",
  "SEGaQUI-13:00/18:50_19:50/22:00 SEX-10:00/13:00_14:00/19:00 SAB-07:12/11:12",
  "SEGaSEX-13:00/17:50_18:50/22:00 SAB-09:00/13:00",
  "SEGeQUAeSEX-07:12/09:30_09:45/13:27 TEReQUI-08:00/11:30",
  "SEGaSEX-07:12/11:00_12:00/17:00",
  "SEGaSEX-09:00/12:00_13:00/18:00 SAB-09:00/13:00",
  "SEGaSEX-07:12/10:20_11:20/17:00",
  "SEGaSEX-09:00/13:00_14:00/18:00 SAB-13:00/17:00",
  "SEGaSEX-07:12/10:40_11:40/16:12 SAB-07:12/11:12",
  "SEGaSEX-07:12/13:00_14:00/17:00",
  "DOMaSEX-23:11/00:15_01:30/07:07",
  "SEGaSEX-09:00/14:00_15:00/18:00 SAB-09:00/13:00",
  "SEGaSEX-10:00/14:00_15:00/19:00 SAB-11:00/15:00",
  "SEGaSEX-13:00/18:00_19:00/22:00 SAB-09:00/13:00",
  "SEGaSEX-05:00/10:30_11:30/14:00 SAB-05:00/09:00",
];

describe("Validar turnos", () => {
  horarios.map((horario) => {
    test(`Horário ${horario}`, async () => {
      const valido = recalcularTurnoController.validarTurno({ nome: horario });

      expect(valido).toStrictEqual(true);
    });
  });
});

describe("Extrair minutos noturno", () => {
  test(`Está exatamente no horario noturno`, async () => {
    const minutos = recalcularTurnoController.localizarMinutosNoturno({
      inicio: new Date("2024-07-01T22:00:00Z"),
      fim: new Date("2024-07-02T05:00:00Z"),
      data: new Date("2024-07-01T00:00:00Z"),
    });

    expect(minutos).toStrictEqual({
      final: new Date("2024-07-02T05:00:00.000Z"),
      inicio: new Date("2024-07-01T22:00:00.000Z"),
      minutos: 420,
    });
  });

  test(`Está dentro do horario noturno`, async () => {
    const minutos = recalcularTurnoController.localizarMinutosNoturno({
      inicio: new Date("2024-07-01T22:50:00Z"),
      fim: new Date("2024-07-02T04:02:00Z"),
      data: new Date("2024-07-01T00:00:00Z"),
    });

    expect(minutos).toStrictEqual({
      final: new Date("024-07-02T04:02:00.000Z"),
      inicio: new Date("2024-07-01T22:50:00.000Z"),
      minutos: 312,
    });
  });

  test(`Termina com horario noturno`, async () => {
    const minutos = recalcularTurnoController.localizarMinutosNoturno({
      inicio: new Date("2024-07-01T17:50:00Z"),
      fim: new Date("2024-07-01T23:00:00Z"),
      data: new Date("2024-07-01T00:00:00Z"),
    });

    expect(minutos).toStrictEqual({
      final: new Date("2024-07-01T23:00:00.000Z"),
      inicio: new Date("2024-07-01T22:00:00.000Z"),
      minutos: 60,
    });
  });

  test(`Inicia com horario noturno e termina no final horario noturno`, async () => {
    const minutos = recalcularTurnoController.localizarMinutosNoturno({
      inicio: new Date("2024-07-01T23:00:00Z"),
      fim: new Date("2024-07-02T05:00:00Z"),
      data: new Date("2024-07-01T00:00:00Z"),
    });

    expect(minutos).toStrictEqual({
      final: new Date("2024-07-02T05:00:00.000Z"),
      inicio: new Date("2024-07-01T23:00:00.000Z"),
      minutos: 360,
    });
  });

  test(`Inicia com horario noturno e termina após horario noturno`, async () => {
    const minutos = recalcularTurnoController.localizarMinutosNoturno({
      inicio: new Date("2024-07-01T23:00:00Z"),
      fim: new Date("2024-07-02T06:00:00Z"),
      data: new Date("2024-07-01T00:00:00Z"),
    });

    expect(minutos).toStrictEqual({
      final: new Date("2024-07-02T05:00:00.000Z"),
      inicio: new Date("2024-07-01T23:00:00.000Z"),
      minutos: 360,
    });
  });

  test(`Termina com horário noturno`, async () => {
    const minutos = recalcularTurnoController.localizarMinutosNoturno({
      inicio: new Date("2024-07-01T21:30:00Z"),
      fim: new Date("2024-07-01T22:54:00Z"),
      data: new Date("2024-07-01T00:00:00Z"),
    });

    expect(minutos).toStrictEqual({
      final: new Date("2024-07-01T22:54:00.000Z"),
      inicio: new Date("2024-07-01T22:00:00.000Z"),
      minutos: 54,
    });
  });

  test(`Inicia com horário noturno`, async () => {
    const minutos = recalcularTurnoController.localizarMinutosNoturno({
      fim: new Date("2024-07-30T03:30:00.000Z"),
      inicio: new Date("2024-07-30T02:45:00.000Z"),
      data: new Date("2024-07-30T00:00:00Z"),
    });

    expect(minutos).toStrictEqual({
      final: new Date("2024-07-30T03:30:00.000Z"),
      inicio: new Date("2024-07-30T02:45:00.000Z"),
      minutos: 45,
    });
  });
});
